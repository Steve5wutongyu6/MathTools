<!DOCTYPE html>
<html>
<head>
    <title>逆序数计算器</title>
    <!--<script>
        function calculateInversions() {
            var input = document.getElementById('numbers').value;
            var numbers = input.split(' ').map(Number);
            
            // 计算逆序数
            var inversions = 0;
            for (var i = 0; i < numbers.length - 1; i++) {
                for (var j = i + 1; j < numbers.length; j++) {
                    if (numbers[i] > numbers[j]) {
                        inversions++;
                    }
                }
            }
            
            // 显示结果
            document.getElementById('result').innerHTML = '逆序数：' + inversions;
        }
    </script> -->
    <script>
        function reversePairs(nums) {
            let count = 0;
            nums.sort((a, b) => a - b);
            let left = 0, right = nums.length - 1;
            while (left < right) {
                if (nums[left] * 2 > nums[right]) {
                    count += right - left;
                    right--;
                } else {
                    left++;
                }
            }
            return count;
        }

        function calculateInversions() {
            const input = document.getElementById('numbers').value;
            const nums = input.split(' ').map(Number);
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `逆序数为：${reversePairs(nums)}`;
        }
    </script>
</head>
<body>
    <h1>逆序数计算器</h1>
    <label for="numbers">输入数字序列（以逗号分隔）：</label>
    <input type="text" id="numbers">
    <button onclick="calculateInversions()">计算</button>
    <br>
    <div id="result"></div>
</body>
</html>
